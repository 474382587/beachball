{"componentChunkName":"component---src-templates-doc-jsx","path":"/ci-integration","webpackCompilationHash":"c68c602548c7e11f3da1","result":{"data":{"postBySlug":{"html":"<p>For the repository and package owners who want to automate the bumping of versions based on change files with <code class=\"language-text\">beachball</code>, you'll need to provide some information for your Continuous Integration (CI) systems. These one-time setup steps will be unique for different CI system naturally, but the general idea remain the same. <code class=\"language-text\">beachball publish</code> needs write access to with are the git repo and npm registry.</p>\n<h2 id=\"git-repository\"><a href=\"#git-repository\" aria-label=\"git repository permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>git Repository</h2>\n<p>There are several ways to authenticate against a git repository. Here's one way to do so with a personal token. Put this in your publishing build scripts:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config user.email <span class=\"token string\">\"someone@example.com\"</span>\n<span class=\"token function\">git</span> config user.name <span class=\"token string\">\"someone\"</span>\n<span class=\"token function\">git</span> remote set-url origin https://<span class=\"token variable\"><span class=\"token variable\">$(</span>user<span class=\"token variable\">)</span></span><span class=\"token keyword\">:</span><span class=\"token variable\"><span class=\"token variable\">$(</span>pat<span class=\"token variable\">)</span></span>@github.com/someuser/someproject.git</code></pre></div>\n<blockquote>\n<p>Note: never check in your credentials into a git repository! Simply use the \"secret variable\" feature to pass in the PAT here.</p>\n</blockquote>\n<p>These commands will give the git user a name and email. Also, the last command will set a different URL for the git remote named \"origin\". If you have SSH key pairs setup, you would not need to run that last line in your scripts.</p>\n<h2 id=\"npm-registry\"><a href=\"#npm-registry\" aria-label=\"npm registry permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npm Registry</h2>\n<p>To publish to a npm registry, you'll need to have access to the write-enabled access token. npm registry has <a href=\"https://docs.npmjs.com/creating-and-viewing-authentication-tokens\">documentation</a> on how to create write tokens. Pass this token into the command line:</p>\n<p><code class=\"language-text\">beachball publish -n SOME_AUTH_TOKEN</code></p>\n<p>Inside your CI scripts, it is recommended to have a <code class=\"language-text\">package.json</code> script for this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"publish:beachball\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"beachball publish -n $(npm.token)\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then inside the build script, simply call <code class=\"language-text\">yarn publish:beachball</code> or <code class=\"language-text\">npm run publish:beachball</code>. </p>\n<p>A common requirement is to be able to publish to a private registry other than npmjs.org. You can also customize the registry URL by passing in one additional parameter:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">beachball publish -n SOME_AUTH_TOKEN -r http://SOME_REGISTRY_URL/</code></pre></div>","frontmatter":{"title":"CI Integration"}},"tableOfContents":{"chapters":[{"title":"Overview","entries":[{"entry":{"id":"aa948e6b-0177-51ab-877c-de4df9879e2e","childMarkdownRemark":{"fields":{"slug":"/getting-started"},"frontmatter":{"title":"Getting Started"}}}},{"entry":{"id":"ccfd1734-230c-5de7-8188-b9c9f36c34e9","childMarkdownRemark":{"fields":{"slug":"/installation"},"frontmatter":{"title":"Installation"}}}},{"entry":{"id":"b89feaf8-14d3-5a12-a574-31fa91dc785e","childMarkdownRemark":{"fields":{"slug":"/change-files"},"frontmatter":{"title":"Change Files"}}}},{"entry":{"id":"ed6560cb-8495-5c33-a16d-6698913b2ceb","childMarkdownRemark":{"fields":{"slug":"/ci-integration"},"frontmatter":{"title":"CI Integration"}}}}]},{"title":"CLI Reference","entries":[{"entry":{"id":"d331b943-d44c-57ee-b77c-45d0ac5a7a0d","childMarkdownRemark":{"fields":{"slug":"/change"},"frontmatter":{"title":"change"}}}},{"entry":{"id":"25b6911e-bac6-5692-80eb-8c70d1863000","childMarkdownRemark":{"fields":{"slug":"/check"},"frontmatter":{"title":"check"}}}},{"entry":{"id":"e9d2f246-5b07-5abe-92a6-d65c4c4e8ac4","childMarkdownRemark":{"fields":{"slug":"/bump"},"frontmatter":{"title":"bump"}}}},{"entry":{"id":"22b3b9a8-e74d-5bdf-83ad-d25cfbe60715","childMarkdownRemark":{"fields":{"slug":"/publish"},"frontmatter":{"title":"publish"}}}},{"entry":{"id":"55c11620-e2b0-538d-b36d-f5897681b65a","childMarkdownRemark":{"fields":{"slug":"/options"},"frontmatter":{"title":"options"}}}}]}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ci-integration"}}}