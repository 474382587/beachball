(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{369:function(e,t,s){"use strict";s.r(t);var a=s(25),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("For the repository and package owners who want to automate the bumping of versions based on change files with "),s("code",[e._v("beachball")]),e._v(", you'll need to provide some information for your Continuous Integration (CI) systems. These one-time setup steps will be unique for different CI system naturally, but the general idea remain the same. "),s("code",[e._v("beachball publish")]),e._v(" needs write access to with are the git repo and npm registry.")]),e._v(" "),s("h2",{attrs:{id:"git-repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-repository"}},[e._v("#")]),e._v(" git Repository")]),e._v(" "),s("p",[e._v("There are several ways to authenticate against a git repository. Here's one way to do so with a personal token. Put this in your publishing build scripts:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" config user.email "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"someone@example.com"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" config user.name "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"someone"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" remote set-url origin https://"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("user"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("pat"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("@github.com/someuser/someproject.git\n")])])]),s("blockquote",[s("p",[e._v('Note: never check in your credentials into a git repository! Simply use the "secret variable" feature to pass in the PAT here.')])]),e._v(" "),s("p",[e._v('These commands will give the git user a name and email. Also, the last command will set a different URL for the git remote named "origin". If you have SSH key pairs setup, you would not need to run that last line in your scripts.')]),e._v(" "),s("h2",{attrs:{id:"npm-registry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-registry"}},[e._v("#")]),e._v(" npm Registry")]),e._v(" "),s("p",[e._v("To publish to a npm registry, you'll need to have access to the write-enabled access token. npm registry has "),s("a",{attrs:{href:"https://docs.npmjs.com/creating-and-viewing-authentication-tokens",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation"),s("OutboundLink")],1),e._v(" on how to create write tokens. Pass this token into the command line:")]),e._v(" "),s("p",[s("code",[e._v("beachball publish -n SOME_AUTH_TOKEN")])]),e._v(" "),s("p",[e._v("Inside your CI scripts, it is recommended to have a "),s("code",[e._v("package.json")]),e._v(" script for this:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"publish:beachball"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"beachball publish -n $(npm.token)"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Then inside the build script, simply call "),s("code",[e._v("yarn publish:beachball")]),e._v(" or "),s("code",[e._v("npm run publish:beachball")]),e._v(".")]),e._v(" "),s("p",[e._v("A common requirement is to be able to publish to a private registry other than npmjs.org. You can also customize the registry URL by passing in one additional parameter:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("beachball publish -n SOME_AUTH_TOKEN -r http://SOME_REGISTRY_URL/\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);